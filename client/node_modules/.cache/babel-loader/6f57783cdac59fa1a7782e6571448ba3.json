{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\xerographics\\\\client\\\\src\\\\components\\\\pos\\\\Pos.js\",\n    _s = $RefreshSig$();\n\nimport { Link } from \"react-router-dom\";\nimport { useEffect, useState, useRef } from 'react';\nimport React from \"react\";\nimport api from \"../../api/api\";\nimport Alert from \"../alerts/alert\";\nimport Dialogs from \"../alerts/dialog\";\nimport LinearProgressLoad from \"../alerts/LinearProgress\";\nimport ProductCard from \"./ProductCard\";\nimport { styled } from '@mui/material/styles';\nimport Box from '@mui/material/Box';\nimport Paper from '@mui/material/Paper';\nimport Grid from '@mui/material/Grid';\nimport Tabs from '@mui/material/Tabs';\nimport Tab from '@mui/material/Tab'; // import Grid from \"@material-ui/core/Grid\";\n\nimport Typography from '@mui/material/Typography';\nimport Badge from '@mui/material/Badge';\nimport ShoppingCartIcon from '@mui/icons-material/ShoppingCart';\nimport InputBase from '@mui/material/InputBase';\nimport IconButton from '@mui/material/IconButton';\nimport QrCodeScannerTwoToneIcon from '@mui/icons-material/QrCodeScannerTwoTone';\nimport SearchIcon from '@mui/icons-material/Search';\nimport TableCart from \"./TableCart\";\nimport Button from '@mui/material/Button';\nimport Divider from '@mui/material/Divider';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Pos() {\n  _s();\n\n  //user state\n  const [products, setProducts] = useState([]);\n  const [product_categories, setProductsCategories] = useState([]);\n  const [del_id, setId] = useState(-1);\n  const [cartItems, setCartItem] = useState([]);\n  let products_url = 'fetchAllProducts'; //alert state\n\n  const [open, setOpen] = useState(false); //dialog state\n\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const [loadingProgress, setLoadingProgress] = useState(false);\n  const [value, setValue] = useState(-1);\n  const [alertType, setAlertType] = useState(\"\");\n  const [alertMessage, setAlertMessage] = useState(\"\");\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [dialogTitle, setDialogTitle] = useState(\"\");\n  const [dialogMessage, setDialogMessage] = useState(\"\");\n  const [productCartId, setCartProductId] = React.useState(-1);\n\n  const handleChangeTab = (event, newValue) => {\n    if (newValue === -1) {\n      products_url = 'fetchAllProducts';\n    } else {\n      products_url = 'fetchAllPosProducts/' + newValue;\n    }\n\n    setValue(newValue);\n    retrieveProducts();\n  }; //handle click and to cart\n\n\n  const handleClickAddCart = id => {\n    setId(id);\n    setCartProductId(id);\n    console.log(\"added product: \" + id + \" to cart\");\n    const productSelected = products.filter(product => {\n      return product.id === id;\n    }); // console.log(productSelected)\n    //check if product is already added, if it does, delete and readd with new data\n\n    if (cartItems.length > 0) {\n      for (var i = 0; i < cartItems.length; i++) {\n        if (cartItems[i].product_id === productSelected[0].id) {\n          const newQty = cartItems[i].qty + 1;\n          const cartCopy = cartItems.splice(i, 1); //remove item\n\n          setCartItem(cartCopy); //readd item\n\n          const Item = {\n            product_id: productSelected[0].id,\n            product_name: productSelected[0].product_name,\n            qty: newQty,\n            product_code: productSelected[0].product_code,\n            product_price: productSelected[0].product_price\n          };\n          setCartItem([...cartItems, Item]);\n        } else {\n          //add item\n          const Item = {\n            product_id: productSelected[0].id,\n            product_name: productSelected[0].product_name,\n            qty: 1,\n            product_code: productSelected[0].product_code,\n            product_price: productSelected[0].product_price\n          };\n          setCartItem([...cartItems, Item]);\n        }\n      }\n    } else {\n      const Item = {\n        product_id: productSelected[0].id,\n        product_name: productSelected[0].product_name,\n        qty: 1,\n        product_code: productSelected[0].product_code,\n        product_price: productSelected[0].product_price\n      };\n      setCartItem([...cartItems, Item]);\n    }\n  }; //remove product from cart\n\n\n  const handleDeleteFromCart = id => {\n    const cartCopy = cartItems.filter(cartItem => {\n      // console.log(cartItem.product_id + \" sjsj\")\n      return cartItem.product_id !== id;\n    });\n    setCartItem(cartCopy);\n  };\n\n  const Item = styled(Paper)(_ref => {\n    let {\n      theme\n    } = _ref;\n    return { ...theme.typography.body2,\n      padding: theme.spacing(1),\n      textAlign: 'center',\n      color: theme.palette.text.secondary\n    };\n  });\n\n  const handleAlertClose = () => {\n    setOpen(false);\n    setAlertMessage('');\n    setAlertType('');\n  };\n\n  const handleDialogClose = () => {\n    setDialogOpen(false);\n    setDialogTitle('');\n    setDialogMessage('');\n  }; // retrieve products\n\n\n  const retrieveProducts = () => {\n    setLoadingProgress(true);\n    api.get(products_url, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    }).then(function (response) {\n      // console.log(response.data)\n      setLoadingProgress(false);\n\n      if (response.data.error === false) {\n        // console.log(response.data.users)\n        setProducts(response.data.products);\n      } else {\n        // console.log(response.data.message)\n        // return [];\n        setProducts([]);\n        setAlertType('error');\n        setAlertMessage(response.data.message);\n        setOpen(true);\n      }\n    }).catch(function (error) {\n      setLoadingProgress(false);\n      setAlertType('error');\n      setAlertMessage(\"Error 500: Internal server error\");\n      setOpen(true);\n    });\n  }; // retrieve products categories\n\n\n  const retrieveProductsCategories = () => {\n    setLoadingProgress(true);\n    api.get('/fetchAllCategories', {\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    }).then(function (response) {\n      if (response.data.error === false) {\n        // console.log(response.data.users)\n        setProductsCategories(response.data.categories);\n      } else {\n        // console.log(response.data.message)\n        // return [];\n        setAlertType('error');\n        setAlertMessage(response.data.message);\n        setOpen(true);\n      }\n    }).catch(function (error) {\n      setLoadingProgress(false);\n      setAlertType('error');\n      setAlertMessage(\"Error 500: Internal server error on categories\");\n      setOpen(true);\n    });\n  }; //delete category\n\n\n  const dialogAction = () => {};\n\n  useEffect(() => {\n    retrieveProductsCategories();\n    retrieveProducts();\n  }, []);\n  React.useEffect(() => {\n    const results = products.filter(product => product.product_name.toLowerCase().includes(searchTerm));\n    setProducts(results);\n  }, [searchTerm]);\n\n  const loading = () => {\n    if (loadingProgress) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(LinearProgressLoad, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 17\n      }, this);\n    }\n  };\n\n  const renderProductList = products.map(product => {\n    return /*#__PURE__*/_jsxDEV(ProductCard, {\n      addToCartProductId: handleClickAddCart,\n      product: product\n    }, `d${product.id}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 13\n    }, this);\n  });\n  const renderProductCategoryList = product_categories.map(product_category => {\n    return /*#__PURE__*/_jsxDEV(Tab, {\n      value: product_category.id,\n      label: product_category.category_name\n    }, product_category.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 13\n    }, this);\n  }); //style shopping cart badge\n\n  const StyledBadge = styled(Badge)(_ref2 => {\n    let {\n      theme\n    } = _ref2;\n    return {\n      '& .MuiBadge-badge': {\n        right: -3,\n        top: 13,\n        border: `2px solid ${theme.palette.background.paper}`,\n        padding: '0 4px'\n      }\n    };\n  });\n  const inputEl = useRef(\"\");\n\n  const getSearchTerm = e => {\n    setSearchTerm(e.target.value); // inputEl.current.focus();\n  };\n\n  const searchKeyword = searchTerm => {\n    setSearchTerm(searchTerm);\n\n    if (searchTerm !== \"\") {\n      const newContactList = products.filter(contact => {\n        return Object.values(contact).join(\" \").toLowerCase().includes(searchTerm.toLowerCase());\n      });\n      setProducts(newContactList);\n    } else {\n      setProducts(products);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header bg-primary pb-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-body\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row align-items-center py-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-lg-6 col-7\",\n              children: /*#__PURE__*/_jsxDEV(\"nav\", {\n                \"aria-label\": \"breadcrumb\",\n                className: \"d-none d-md-inline-block ml-md-4\",\n                children: /*#__PURE__*/_jsxDEV(\"ol\", {\n                  className: \"breadcrumb breadcrumb-links breadcrumb-dark\",\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"breadcrumb-item\",\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: \"/\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-home\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 319,\n                        columnNumber: 88\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 319,\n                      columnNumber: 73\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 319,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"breadcrumb-item active\",\n                    \"aria-current\": \"page\",\n                    children: \"POS\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 320,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-lg-6 col-5 text-right\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid mt--6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: [loading(), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"container-fluid mt-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                flexGrow: 6\n              },\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                spacing: 2,\n                columns: 16,\n                children: [/*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 16,\n                  sm: 16,\n                  md: 10,\n                  lg: 10,\n                  children: /*#__PURE__*/_jsxDEV(Item, {\n                    children: [/*#__PURE__*/_jsxDEV(Box, {\n                      sx: {\n                        width: '100%'\n                      },\n                      children: /*#__PURE__*/_jsxDEV(Tabs, {\n                        value: value,\n                        onChange: handleChangeTab,\n                        textColor: \"primary\",\n                        indicatorColor: \"primary\",\n                        \"aria-label\": \"primary tabs example\",\n                        variant: \"scrollable\",\n                        scrollButtons: true,\n                        allowScrollButtonsMobile: true,\n                        \"aria-label\": \"scrollable force tabs example\",\n                        children: [/*#__PURE__*/_jsxDEV(Tab, {\n                          value: -1,\n                          label: \"All\"\n                        }, \"2S\", false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 363,\n                          columnNumber: 53\n                        }, this), renderProductCategoryList]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 351,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 350,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n                      component: \"form\",\n                      sx: {\n                        p: '2px 4px',\n                        mt: '20px',\n                        mb: '20px',\n                        display: 'flex',\n                        alignItems: 'center',\n                        width: '100%'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(IconButton, {\n                        sx: {\n                          p: '10px'\n                        },\n                        \"aria-label\": \"menu\",\n                        children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 373,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 372,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        ref: inputEl,\n                        type: \"text\",\n                        placeholder: \"Search Contacts\",\n                        className: \"prompt\",\n                        value: searchTerm,\n                        onInput: getSearchTerm\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 375,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(Divider, {\n                        sx: {\n                          height: 28,\n                          m: 0.5\n                        },\n                        orientation: \"vertical\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 390,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                        color: \"primary\",\n                        sx: {\n                          p: '10px'\n                        },\n                        \"aria-label\": \"directions\",\n                        children: /*#__PURE__*/_jsxDEV(QrCodeScannerTwoToneIcon, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 393,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 392,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 368,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                      container: true,\n                      style: {\n                        maxHeight: 500,\n                        overflow: 'auto'\n                      },\n                      children: renderProductList\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 398,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 349,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 16,\n                  sm: 16,\n                  md: 6,\n                  lg: 6,\n                  children: /*#__PURE__*/_jsxDEV(Item, {\n                    children: [/*#__PURE__*/_jsxDEV(Typography, {\n                      spacing: 2,\n                      style: {\n                        textAlign: 'left'\n                      },\n                      variant: \"h5\",\n                      gutterBottom: true,\n                      component: \"div\",\n                      children: [\"Shopping Cart\", /*#__PURE__*/_jsxDEV(IconButton, {\n                        spacing: 2,\n                        \"aria-label\": \"cart\",\n                        children: /*#__PURE__*/_jsxDEV(StyledBadge, {\n                          badgeContent: cartItems.length,\n                          color: \"secondary\",\n                          children: /*#__PURE__*/_jsxDEV(ShoppingCartIcon, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 414,\n                            columnNumber: 57\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 413,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 412,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 410,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                      container: true,\n                      spacing: 2,\n                      columns: 16,\n                      sx: {\n                        mb: '30px',\n                        mt: '10px'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(Grid, {\n                        item: true,\n                        xs: 16,\n                        sm: 16,\n                        md: 8,\n                        lg: 8,\n                        children: /*#__PURE__*/_jsxDEV(Button, {\n                          style: {\n                            width: \"100%\"\n                          },\n                          variant: \"outlined\",\n                          children: \"Existing Customer ID\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 420,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 419,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                        item: true,\n                        xs: 16,\n                        sm: 16,\n                        md: 8,\n                        lg: 8,\n                        children: /*#__PURE__*/_jsxDEV(Button, {\n                          style: {\n                            width: \"100%\"\n                          },\n                          variant: \"outlined\",\n                          children: \"New Customer\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 424,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 423,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 418,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(TableCart, {\n                      cartItems: cartItems,\n                      handleClickAddCart: handleClickAddCart,\n                      getDeleteProductIdFromCart: handleDeleteFromCart\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 428,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 409,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Dialogs, {\n      dialogOpen: dialogOpen,\n      dialogAction: dialogAction,\n      dialogTitle: dialogTitle,\n      dialogMessage: dialogMessage,\n      handleDialogClose: handleDialogClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Alert, {\n      openAlert: open,\n      alertMessage: alertMessage,\n      alertType: alertType,\n      handleAlertClose: handleAlertClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 311,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Pos, \"sEkZGGLO82Ofgs3j6ZJS/xoobSs=\");\n\n_c = Pos;\nexport default Pos;\n\nvar _c;\n\n$RefreshReg$(_c, \"Pos\");","map":{"version":3,"sources":["C:/xampp/htdocs/xerographics/client/src/components/pos/Pos.js"],"names":["Link","useEffect","useState","useRef","React","api","Alert","Dialogs","LinearProgressLoad","ProductCard","styled","Box","Paper","Grid","Tabs","Tab","Typography","Badge","ShoppingCartIcon","InputBase","IconButton","QrCodeScannerTwoToneIcon","SearchIcon","TableCart","Button","Divider","Pos","products","setProducts","product_categories","setProductsCategories","del_id","setId","cartItems","setCartItem","products_url","open","setOpen","dialogOpen","setDialogOpen","loadingProgress","setLoadingProgress","value","setValue","alertType","setAlertType","alertMessage","setAlertMessage","searchTerm","setSearchTerm","dialogTitle","setDialogTitle","dialogMessage","setDialogMessage","productCartId","setCartProductId","handleChangeTab","event","newValue","retrieveProducts","handleClickAddCart","id","console","log","productSelected","filter","product","length","i","product_id","newQty","qty","cartCopy","splice","Item","product_name","product_code","product_price","handleDeleteFromCart","cartItem","theme","typography","body2","padding","spacing","textAlign","color","palette","text","secondary","handleAlertClose","handleDialogClose","get","headers","then","response","data","error","message","catch","retrieveProductsCategories","categories","dialogAction","results","toLowerCase","includes","loading","renderProductList","map","renderProductCategoryList","product_category","category_name","StyledBadge","right","top","border","background","paper","inputEl","getSearchTerm","e","target","searchKeyword","newContactList","contact","Object","values","join","flexGrow","width","p","mt","mb","display","alignItems","height","m","maxHeight","overflow"],"mappings":"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","sourcesContent":["import { Link } from \"react-router-dom\";\r\nimport { useEffect, useState, useRef } from 'react';\r\nimport React from \"react\";\r\nimport api from \"../../api/api\";\r\nimport Alert from \"../alerts/alert\";\r\nimport Dialogs from \"../alerts/dialog\";\r\nimport LinearProgressLoad from \"../alerts/LinearProgress\";\r\nimport ProductCard from \"./ProductCard\";\r\n\r\nimport { styled } from '@mui/material/styles';\r\nimport Box from '@mui/material/Box';\r\nimport Paper from '@mui/material/Paper';\r\nimport Grid from '@mui/material/Grid';\r\n\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\n// import Grid from \"@material-ui/core/Grid\";\r\n\r\nimport Typography from '@mui/material/Typography';\r\n\r\nimport Badge from '@mui/material/Badge';\r\nimport ShoppingCartIcon from '@mui/icons-material/ShoppingCart';\r\n\r\nimport InputBase from '@mui/material/InputBase';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport QrCodeScannerTwoToneIcon from '@mui/icons-material/QrCodeScannerTwoTone';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\n\r\nimport TableCart from \"./TableCart\";\r\nimport Button from '@mui/material/Button';\r\nimport Divider from '@mui/material/Divider';\r\n\r\n\r\n\r\n\r\nfunction Pos() {\r\n    //user state\r\n    const [products, setProducts] = useState([])\r\n    const [product_categories, setProductsCategories] = useState([])\r\n    const [del_id, setId] = useState(-1)\r\n    const [cartItems, setCartItem] = useState([])\r\n    let products_url = 'fetchAllProducts';\r\n\r\n\r\n    //alert state\r\n    const [open, setOpen] = useState(false);\r\n    //dialog state\r\n    const [dialogOpen, setDialogOpen] = useState(false);\r\n    const [loadingProgress, setLoadingProgress] = useState(false);\r\n    const [value, setValue] = useState(-1);\r\n    const [alertType, setAlertType] = useState(\"\");\r\n    const [alertMessage, setAlertMessage] = useState(\"\");\r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n\r\n    const [dialogTitle, setDialogTitle] = useState(\"\");\r\n    const [dialogMessage, setDialogMessage] = useState(\"\");\r\n    const [productCartId, setCartProductId] = React.useState(-1);\r\n\r\n    const handleChangeTab = (event, newValue) => {\r\n        if (newValue === -1) {\r\n            products_url = 'fetchAllProducts'\r\n        } else {\r\n            products_url = 'fetchAllPosProducts/' + newValue\r\n        }\r\n\r\n        setValue(newValue)\r\n        retrieveProducts()\r\n    };\r\n\r\n\r\n    //handle click and to cart\r\n    const handleClickAddCart = (id) => {\r\n        setId(id)\r\n        setCartProductId(id)\r\n        console.log(\"added product: \" + id + \" to cart\")\r\n        const productSelected = products.filter((product) => {\r\n            return product.id === id\r\n        })\r\n\r\n        // console.log(productSelected)\r\n        //check if product is already added, if it does, delete and readd with new data\r\n        if (cartItems.length > 0) {\r\n\r\n            for (var i = 0; i < cartItems.length; i++) {\r\n                if (cartItems[i].product_id === productSelected[0].id) {\r\n\r\n                    const newQty = cartItems[i].qty + 1;\r\n\r\n                    const cartCopy = cartItems.splice(i, 1)//remove item\r\n                    setCartItem(cartCopy);\r\n\r\n                    //readd item\r\n                    const Item = {\r\n                        product_id: productSelected[0].id,\r\n                        product_name: productSelected[0].product_name,\r\n                        qty: newQty,\r\n                        product_code: productSelected[0].product_code,\r\n                        product_price: productSelected[0].product_price\r\n                    }\r\n                    setCartItem([...cartItems, Item]);\r\n\r\n                } else {\r\n                    //add item\r\n                    const Item = {\r\n                        product_id: productSelected[0].id,\r\n                        product_name: productSelected[0].product_name,\r\n                        qty: 1,\r\n                        product_code: productSelected[0].product_code,\r\n                        product_price: productSelected[0].product_price\r\n                    }\r\n                    setCartItem([...cartItems, Item]);\r\n                }\r\n            }\r\n        } else {\r\n            const Item = {\r\n                product_id: productSelected[0].id,\r\n                product_name: productSelected[0].product_name,\r\n                qty: 1,\r\n                product_code: productSelected[0].product_code,\r\n                product_price: productSelected[0].product_price\r\n            }\r\n            setCartItem([...cartItems, Item]);\r\n        }\r\n\r\n\r\n    };\r\n\r\n    //remove product from cart\r\n    const handleDeleteFromCart = (id) => {\r\n\r\n        const cartCopy = cartItems.filter((cartItem) => {\r\n            // console.log(cartItem.product_id + \" sjsj\")\r\n            return cartItem.product_id !== id\r\n        })\r\n        setCartItem(cartCopy);\r\n\r\n    }\r\n\r\n    const Item = styled(Paper)(({ theme }) => ({\r\n        ...theme.typography.body2,\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n    }));\r\n\r\n\r\n\r\n    const handleAlertClose = () => {\r\n        setOpen(false);\r\n        setAlertMessage('')\r\n        setAlertType('')\r\n    };\r\n\r\n    const handleDialogClose = () => {\r\n        setDialogOpen(false);\r\n        setDialogTitle('')\r\n        setDialogMessage('')\r\n    };\r\n\r\n\r\n    // retrieve products\r\n    const retrieveProducts = () => {\r\n        setLoadingProgress(true)\r\n\r\n        api.get(products_url\r\n            , {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Accept': 'application/json'\r\n                }\r\n            }\r\n        )\r\n            .then(function (response) {\r\n                // console.log(response.data)\r\n                setLoadingProgress(false)\r\n\r\n                if (response.data.error === false) {\r\n\r\n                    // console.log(response.data.users)\r\n                    setProducts(response.data.products)\r\n\r\n                } else {\r\n                    // console.log(response.data.message)\r\n                    // return [];\r\n                    setProducts([])\r\n                    setAlertType('error')\r\n                    setAlertMessage(response.data.message)\r\n                    setOpen(true)\r\n                }\r\n\r\n            })\r\n            .catch(function (error) {\r\n                setLoadingProgress(false)\r\n\r\n                setAlertType('error')\r\n                setAlertMessage(\"Error 500: Internal server error\")\r\n                setOpen(true)\r\n            });\r\n    }\r\n\r\n    // retrieve products categories\r\n    const retrieveProductsCategories = () => {\r\n        setLoadingProgress(true)\r\n\r\n        api.get('/fetchAllCategories'\r\n            , {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Accept': 'application/json'\r\n                }\r\n            }\r\n        )\r\n            .then(function (response) {\r\n                if (response.data.error === false) {\r\n\r\n                    // console.log(response.data.users)\r\n                    setProductsCategories(response.data.categories)\r\n\r\n                } else {\r\n                    // console.log(response.data.message)\r\n                    // return [];\r\n                    setAlertType('error')\r\n                    setAlertMessage(response.data.message)\r\n                    setOpen(true)\r\n                }\r\n\r\n            })\r\n            .catch(function (error) {\r\n                setLoadingProgress(false)\r\n\r\n                setAlertType('error')\r\n                setAlertMessage(\"Error 500: Internal server error on categories\")\r\n                setOpen(true)\r\n            });\r\n    }\r\n\r\n    //delete category\r\n    const dialogAction = () => {\r\n\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        retrieveProductsCategories();\r\n        retrieveProducts();\r\n    }, [])\r\n\r\n    React.useEffect(() => {\r\n        const results = products.filter(product =>\r\n            product.product_name.toLowerCase().includes(searchTerm)\r\n        );\r\n        setProducts(results);\r\n    }, [searchTerm]);\r\n\r\n\r\n    const loading = () => {\r\n        if (loadingProgress) {\r\n            return (\r\n                <div className=\"mb-3\">\r\n                    <LinearProgressLoad />\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    const renderProductList = products.map((product) => {\r\n        return (\r\n            <ProductCard addToCartProductId={handleClickAddCart} key={`d${product.id}`} product={product} ></ProductCard>\r\n        );\r\n    })\r\n\r\n    const renderProductCategoryList = product_categories.map((product_category) => {\r\n        return (\r\n            <Tab key={product_category.id} value={product_category.id} label={product_category.category_name} />\r\n        );\r\n    })\r\n\r\n    //style shopping cart badge\r\n    const StyledBadge = styled(Badge)(({ theme }) => ({\r\n        '& .MuiBadge-badge': {\r\n            right: -3,\r\n            top: 13,\r\n            border: `2px solid ${theme.palette.background.paper}`,\r\n            padding: '0 4px',\r\n        },\r\n    }));\r\n\r\n    const inputEl = useRef(\"\");\r\n\r\n    const getSearchTerm = (e) => {\r\n        setSearchTerm(e.target.value);\r\n        // inputEl.current.focus();\r\n    };\r\n\r\n\r\n    const searchKeyword = (searchTerm) => {\r\n        setSearchTerm(searchTerm);\r\n        if (searchTerm !== \"\") {\r\n            const newContactList = products.filter((contact) => {\r\n                return Object.values(contact)\r\n                    .join(\" \")\r\n                    .toLowerCase()\r\n                    .includes(searchTerm.toLowerCase());\r\n            });\r\n            setProducts(newContactList);\r\n        } else {\r\n            setProducts(products);\r\n        }\r\n    };\r\n    return (\r\n        <div className=\"\">\r\n            <div className=\"header bg-primary pb-6\">\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"header-body\">\r\n                        <div className=\"row align-items-center py-4\">\r\n                            <div className=\"col-lg-6 col-7\">\r\n                                <nav aria-label=\"breadcrumb\" className=\"d-none d-md-inline-block ml-md-4\">\r\n                                    <ol className=\"breadcrumb breadcrumb-links breadcrumb-dark\">\r\n                                        <li className=\"breadcrumb-item\"><Link to={\"/\"}><i className=\"fas fa-home\"></i></Link></li>\r\n                                        <li className=\"breadcrumb-item active\" aria-current=\"page\">POS</li>\r\n                                    </ol>\r\n                                </nav>\r\n                            </div>\r\n                            <div className=\"col-lg-6 col-5 text-right\">\r\n\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"container-fluid mt--6\">\r\n                <div className=\"row\">\r\n                    <div className=\"col\">\r\n                        <div className=\"card\">\r\n                            {loading()}\r\n\r\n                            <div className=\"container-fluid mt-5\">\r\n\r\n                            </div>\r\n\r\n                            <Box sx={{ flexGrow: 6 }}>\r\n                                <Grid container spacing={2} columns={16}>\r\n\r\n\r\n                                    <Grid item xs={16} sm={16} md={10} lg={10}>\r\n                                        <Item >\r\n                                            <Box sx={{ width: '100%' }}>\r\n                                                <Tabs\r\n                                                    value={value}\r\n                                                    onChange={handleChangeTab}\r\n                                                    textColor=\"primary\"\r\n                                                    indicatorColor=\"primary\"\r\n                                                    aria-label=\"primary tabs example\"\r\n\r\n                                                    variant=\"scrollable\"\r\n                                                    scrollButtons\r\n                                                    allowScrollButtonsMobile\r\n                                                    aria-label=\"scrollable force tabs example\"\r\n                                                >\r\n                                                    <Tab key=\"2S\" value={-1} label=\"All\" />\r\n                                                    {renderProductCategoryList}\r\n                                                </Tabs>\r\n                                            </Box>\r\n\r\n                                            <Paper\r\n                                                component=\"form\"\r\n                                                sx={{ p: '2px 4px', mt: '20px', mb: '20px', display: 'flex', alignItems: 'center', width: '100%' }}\r\n                                            >\r\n                                                <IconButton sx={{ p: '10px' }} aria-label=\"menu\">\r\n                                                    <SearchIcon />\r\n                                                </IconButton>\r\n                                                <input\r\n                                                    ref={inputEl}\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Search Contacts\"\r\n                                                    className=\"prompt\"\r\n                                                    value={searchTerm}\r\n                                                    onInput={getSearchTerm}\r\n                                                />\r\n                                                {/* <InputBase\r\n                                                    value={searchTerm} onInput={(e) => setSearchTerm(e.target.value)}\r\n                                                    required={true}\r\n                                                    sx={{ ml: 1, flex: 1 }}\r\n                                                    placeholder=\"Search for an item\"\r\n                                                    inputProps={{ 'aria-label': 'Search for an item' }}\r\n                                                /> */}\r\n                                                <Divider sx={{ height: 28, m: 0.5 }} orientation=\"vertical\" />\r\n\r\n                                                <IconButton color=\"primary\" sx={{ p: '10px' }} aria-label=\"directions\">\r\n                                                    <QrCodeScannerTwoToneIcon />\r\n                                                </IconButton>\r\n                                            </Paper>\r\n\r\n\r\n                                            <Grid container style={{ maxHeight: 500, overflow: 'auto' }}>\r\n                                                {renderProductList}\r\n                                            </Grid>\r\n\r\n\r\n\r\n\r\n                                        </Item>\r\n                                    </Grid>\r\n\r\n                                    <Grid item xs={16} sm={16} md={6} lg={6}>\r\n                                        <Item>\r\n                                            <Typography spacing={2} style={{ textAlign: 'left' }} variant=\"h5\" gutterBottom component=\"div\">\r\n                                                Shopping Cart\r\n                                                <IconButton spacing={2} aria-label=\"cart\">\r\n                                                    <StyledBadge badgeContent={cartItems.length} color=\"secondary\">\r\n                                                        <ShoppingCartIcon />\r\n                                                    </StyledBadge>\r\n                                                </IconButton>\r\n                                            </Typography>\r\n                                            <Grid container spacing={2} columns={16} sx={{ mb: '30px', mt: '10px' }}>\r\n                                                <Grid item xs={16} sm={16} md={8} lg={8}>\r\n                                                    <Button style={{ width: \"100%\" }} variant=\"outlined\">Existing Customer ID</Button>\r\n\r\n                                                </Grid>\r\n                                                <Grid item xs={16} sm={16} md={8} lg={8}>\r\n                                                    <Button style={{ width: \"100%\" }} variant=\"outlined\">New Customer</Button>\r\n\r\n                                                </Grid>\r\n                                            </Grid>\r\n                                            <TableCart cartItems={cartItems} handleClickAddCart={handleClickAddCart} getDeleteProductIdFromCart={handleDeleteFromCart} />\r\n                                        </Item>\r\n                                    </Grid>\r\n\r\n                                </Grid>\r\n                            </Box>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <Dialogs dialogOpen={dialogOpen} dialogAction={dialogAction} dialogTitle={dialogTitle} dialogMessage={dialogMessage} handleDialogClose={handleDialogClose} />\r\n            <Alert openAlert={open} alertMessage={alertMessage} alertType={alertType} handleAlertClose={handleAlertClose} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Pos;\r\n"]},"metadata":{},"sourceType":"module"}