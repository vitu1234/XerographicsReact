{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\xerographics\\\\client\\\\src\\\\components\\\\pos\\\\Checkout.js\",\n    _s = $RefreshSig$();\n\nimport Button from '@mui/material/Button';\nimport { useEffect, useState } from 'react';\nimport Box from '@mui/material/Box';\nimport Input from '@mui/material/Input';\nimport InputLabel from '@mui/material/InputLabel';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport FormControl from '@mui/material/FormControl';\nimport Radio from '@mui/material/Radio';\nimport RadioGroup from '@mui/material/RadioGroup';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport FormLabel from '@mui/material/FormLabel';\nimport { styled } from '@mui/material/styles';\nimport MenuItem from '@mui/material/MenuItem';\nimport Select from '@mui/material/Select';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Checkout(props) {\n  _s();\n\n  console.log(props); // const [values, setValues] = useState({\n  //     amount_paid: '',\n  //     discount_percent: '',\n  //     tax_amount: '',\n  //     tax_percent: props.tax_amount,\n  //     payment_type: 1,\n  //     total: props.total_calculated,\n  //     total_without_mod: props.total_calculated,\n  // });\n\n  const [amount_paid, setAmountPaid] = useState('');\n  const [discount_amount, setDiscountAmount] = useState('');\n  const [discount_percent, setDiscountPercent] = useState('');\n  const [tax_amount, setTaxAmount] = useState('');\n  const [tax_percent, setTaxPercent] = useState(props.tax_amount);\n  const [payment_type, setPaymentType] = useState(1);\n  const [total, setTotal] = useState(props.total_calculated);\n  const [total_without_mod, setTotalWithoutMod] = useState(props.total_calculated);\n  const [amount_due, setAmountDue] = useState(total);\n  const [disable_status, setButtonStatus] = useState('disabled');\n\n  const formatNumber = number => {\n    var nf = new Intl.NumberFormat();\n    var result = nf.format(number); // \"1,234,567,890\"\n\n    return result;\n  };\n\n  const handleChange = prop => e => {\n    if (prop === 'discount_percent') {\n      let discount = 0;\n\n      if (e.target.value.length !== 0) {\n        discount = e.target.value;\n      }\n\n      setDiscountPercent(discount);\n      let discount_amount_ = parseInt(total_without_mod) * parseInt(discount) / 100;\n      setDiscountAmount(discount_amount_);\n\n      if (tax_amount.length === 0) {\n        let total = parseInt(total_without_mod) - parseInt(discount_amount_);\n        setTotal(total);\n      } else {\n        let total = parseInt(total_without_mod) - parseInt(tax_amount) - parseInt(discount_amount);\n        setTotal(total);\n      }\n    } else if (prop === 'amount_paid') {\n      console.log('amount_paid');\n      let amount_paid_ = 0;\n\n      if (e.target.value.length === 0) {\n        amount_paid_ = e.target.value;\n      }\n\n      setAmountPaid(e.target.value);\n      console.log(e.target.value.length);\n      console.log(amount_paid_);\n      let amt_due = parseInt(total) - parseInt(amount_paid_);\n      setAmountDue(amt_due);\n\n      if (parseInt(amt_due) <= 0) {\n        setButtonStatus('');\n      } else {\n        setButtonStatus('disabled');\n      }\n    } else if ('apply_tax') {\n      let tax_amount_ = 0;\n\n      if (parseInt(e.target.value) === 0) {\n        tax_amount_ = parseInt(total_without_mod) * parseInt(tax_percent) / 100;\n        setTaxAmount(tax_amount_);\n\n        if (discount_amount.length === 0) {\n          let total = parseInt(total_without_mod) - parseInt(tax_amount_);\n          setTotal(total);\n        } else {\n          let total = parseInt(total_without_mod) - parseInt(tax_amount_) - parseInt(discount_amount);\n          setTotal(total);\n        }\n      } else {\n        tax_amount_ = 0;\n        setTaxAmount(tax_amount_);\n\n        if (discount_amount.length === 0) {\n          let total = parseInt(total_without_mod) + parseInt(tax_amount_);\n          setTotal(total);\n        } else {\n          let total = parseInt(total_without_mod) + parseInt(tax_amount_) - parseInt(discount_amount);\n          setTotal(total);\n        }\n      }\n    }\n  };\n\n  const Div = styled('div')(_ref => {\n    let {\n      theme\n    } = _ref;\n    return { ...theme.typography.button,\n      backgroundColor: theme.palette.background.paper,\n      padding: theme.spacing(1)\n    };\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        width: '80%',\n        mt: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(FormControl, {\n        fullWidth: true,\n        sx: {\n          m: 1\n        },\n        variant: \"standard\",\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          htmlFor: \"standard-adornment-amount\",\n          children: \"Discount (%)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          onKeyPress: event => {\n            if (!/[0-9.]/.test(event.key)) {\n              event.preventDefault();\n            }\n          },\n          id: \"standard-adornment-amount\",\n          value: discount_percent,\n          onChange: handleChange('discount_percent')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n        fullWidth: true,\n        sx: {\n          m: 1\n        },\n        variant: \"standard\",\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          htmlFor: \"standard-adornment-amount\",\n          children: \"Amount Paid\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          required: true,\n          onKeyPress: event => {\n            if (!/[0-9]/.test(event.key)) {\n              event.preventDefault();\n            }\n          },\n          id: \"standard-adornment-amount\",\n          value: amount_paid,\n          onChange: handleChange('amount_paid'),\n          startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n            position: \"start\",\n            children: \"MWK\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n        style: {\n          textAlign: 'left'\n        },\n        fullWidth: true,\n        sx: {\n          m: 1\n        },\n        variant: \"standard\",\n        children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n          htmlFor: \"html_tax\",\n          children: [\"Apply VAT (\", props.tax_amount, \"%)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(RadioGroup, {\n          onChange: handleChange('apply_tax'),\n          defaultValue: \"1\",\n          id: \"html_tax\",\n          row: true,\n          \"aria-labelledby\": \"demo-row-radio-buttons-group-label\",\n          name: \"row-radio-buttons-group\",\n          children: [/*#__PURE__*/_jsxDEV(FormControlLabel, {\n            value: \"0\",\n            control: /*#__PURE__*/_jsxDEV(Radio, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 62\n            }, this),\n            label: \"No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n            value: \"1\",\n            control: /*#__PURE__*/_jsxDEV(Radio, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 62\n            }, this),\n            label: \"Yes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n        style: {\n          textAlign: 'left'\n        },\n        fullWidth: true,\n        sx: {\n          m: 1\n        },\n        variant: \"standard\",\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          id: \"demo-simple-select-standard-label\",\n          children: \"Payment Type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          labelId: \"demo-simple-select-standard-label\",\n          id: \"demo-simple-select-standard\",\n          value: payment_type,\n          onChange: handleChange('payment_type'),\n          label: \"Payment Type\",\n          children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n            value: 1,\n            children: \"Cash Payment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: 2,\n            children: \"Mobile Money Payment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: 3,\n            children: \"Bank Payment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Div, {\n        style: {\n          textAlign: 'left'\n        },\n        sx: {\n          m: 1\n        },\n        children: `Total: MWK ${formatNumber(total)}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Div, {\n        style: {\n          textAlign: 'left'\n        },\n        sx: {\n          m: 1\n        },\n        children: `Amount Due: MWK ${formatNumber(amount_due)}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      disabled: disable_status,\n      style: {\n        width: \"100%\"\n      },\n      variant: \"outlined\",\n      children: [\"Chekout (MWK \", formatNumber(total), \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Checkout, \"BO4JgOymkPhFFq5kVWaPEEO8si4=\");\n\n_c = Checkout;\nexport default Checkout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"sources":["C:/xampp/htdocs/xerographics/client/src/components/pos/Checkout.js"],"names":["Button","useEffect","useState","Box","Input","InputLabel","InputAdornment","FormControl","Radio","RadioGroup","FormControlLabel","FormLabel","styled","MenuItem","Select","Checkout","props","console","log","amount_paid","setAmountPaid","discount_amount","setDiscountAmount","discount_percent","setDiscountPercent","tax_amount","setTaxAmount","tax_percent","setTaxPercent","payment_type","setPaymentType","total","setTotal","total_calculated","total_without_mod","setTotalWithoutMod","amount_due","setAmountDue","disable_status","setButtonStatus","formatNumber","number","nf","Intl","NumberFormat","result","format","handleChange","prop","e","discount","target","value","length","discount_amount_","parseInt","amount_paid_","amt_due","tax_amount_","Div","theme","typography","button","backgroundColor","palette","background","paper","padding","spacing","width","mt","m","event","test","key","preventDefault","textAlign"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,sBAAnB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,gBAAP,MAA6B,gCAA7B;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,SAASC,MAAT,QAAuB,sBAAvB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;;;AAEA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AAAA;;AACrBC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,EADqB,CAGrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,QAAM,CAACG,WAAD,EAAcC,aAAd,IAA+BlB,QAAQ,CAAC,EAAD,CAA7C;AACA,QAAM,CAACmB,eAAD,EAAkBC,iBAAlB,IAAuCpB,QAAQ,CAAC,EAAD,CAArD;AACA,QAAM,CAACqB,gBAAD,EAAmBC,kBAAnB,IAAyCtB,QAAQ,CAAC,EAAD,CAAvD;AACA,QAAM,CAACuB,UAAD,EAAaC,YAAb,IAA6BxB,QAAQ,CAAC,EAAD,CAA3C;AACA,QAAM,CAACyB,WAAD,EAAcC,aAAd,IAA+B1B,QAAQ,CAACc,KAAK,CAACS,UAAP,CAA7C;AACA,QAAM,CAACI,YAAD,EAAeC,cAAf,IAAiC5B,QAAQ,CAAC,CAAD,CAA/C;AACA,QAAM,CAAC6B,KAAD,EAAQC,QAAR,IAAoB9B,QAAQ,CAACc,KAAK,CAACiB,gBAAP,CAAlC;AACA,QAAM,CAACC,iBAAD,EAAoBC,kBAApB,IAA0CjC,QAAQ,CAACc,KAAK,CAACiB,gBAAP,CAAxD;AACA,QAAM,CAACG,UAAD,EAAaC,YAAb,IAA6BnC,QAAQ,CAAC6B,KAAD,CAA3C;AACA,QAAM,CAACO,cAAD,EAAiBC,eAAjB,IAAoCrC,QAAQ,CAAC,UAAD,CAAlD;;AAEA,QAAMsC,YAAY,GAAIC,MAAD,IAAY;AAC7B,QAAIC,EAAE,GAAG,IAAIC,IAAI,CAACC,YAAT,EAAT;AACA,QAAIC,MAAM,GAAGH,EAAE,CAACI,MAAH,CAAUL,MAAV,CAAb,CAF6B,CAEG;;AAChC,WAAOI,MAAP;AACH,GAJD;;AAMA,QAAME,YAAY,GAAIC,IAAD,IAAWC,CAAD,IAAO;AAElC,QAAID,IAAI,KAAK,kBAAb,EAAiC;AAC7B,UAAIE,QAAQ,GAAG,CAAf;;AACA,UAAID,CAAC,CAACE,MAAF,CAASC,KAAT,CAAeC,MAAf,KAA0B,CAA9B,EAAiC;AAC7BH,QAAAA,QAAQ,GAAGD,CAAC,CAACE,MAAF,CAASC,KAApB;AACH;;AAED5B,MAAAA,kBAAkB,CAAC0B,QAAD,CAAlB;AACA,UAAII,gBAAgB,GAAIC,QAAQ,CAACrB,iBAAD,CAAR,GAA8BqB,QAAQ,CAACL,QAAD,CAAvC,GAAqD,GAA5E;AACA5B,MAAAA,iBAAiB,CAACgC,gBAAD,CAAjB;;AAEA,UAAI7B,UAAU,CAAC4B,MAAX,KAAsB,CAA1B,EAA6B;AACzB,YAAItB,KAAK,GAAIwB,QAAQ,CAACrB,iBAAD,CAAT,GAAiCqB,QAAQ,CAACD,gBAAD,CAArD;AACAtB,QAAAA,QAAQ,CAACD,KAAD,CAAR;AACH,OAHD,MAGO;AAEH,YAAIA,KAAK,GAAIwB,QAAQ,CAACrB,iBAAD,CAAR,GAA8BqB,QAAQ,CAAC9B,UAAD,CAAvC,GAAwD8B,QAAQ,CAAClC,eAAD,CAA5E;AACAW,QAAAA,QAAQ,CAACD,KAAD,CAAR;AACH;AAEJ,KAnBD,MAmBO,IAAIiB,IAAI,KAAK,aAAb,EAA4B;AAC/B/B,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACA,UAAIsC,YAAY,GAAG,CAAnB;;AACA,UAAIP,CAAC,CAACE,MAAF,CAASC,KAAT,CAAeC,MAAf,KAA0B,CAA9B,EAAiC;AAC7BG,QAAAA,YAAY,GAAGP,CAAC,CAACE,MAAF,CAASC,KAAxB;AACH;;AACDhC,MAAAA,aAAa,CAAC6B,CAAC,CAACE,MAAF,CAASC,KAAV,CAAb;AACAnC,MAAAA,OAAO,CAACC,GAAR,CAAY+B,CAAC,CAACE,MAAF,CAASC,KAAT,CAAeC,MAA3B;AACApC,MAAAA,OAAO,CAACC,GAAR,CAAYsC,YAAZ;AAEA,UAAIC,OAAO,GAAGF,QAAQ,CAACxB,KAAD,CAAR,GAAkBwB,QAAQ,CAACC,YAAD,CAAxC;AACAnB,MAAAA,YAAY,CAACoB,OAAD,CAAZ;;AACA,UAAIF,QAAQ,CAACE,OAAD,CAAR,IAAqB,CAAzB,EAA4B;AACxBlB,QAAAA,eAAe,CAAC,EAAD,CAAf;AACH,OAFD,MAEO;AACHA,QAAAA,eAAe,CAAC,UAAD,CAAf;AACH;AAGJ,KAnBM,MAmBA,IAAI,WAAJ,EAAiB;AAEpB,UAAImB,WAAW,GAAG,CAAlB;;AACA,UAAIH,QAAQ,CAACN,CAAC,CAACE,MAAF,CAASC,KAAV,CAAR,KAA6B,CAAjC,EAAoC;AAChCM,QAAAA,WAAW,GAAIH,QAAQ,CAACrB,iBAAD,CAAR,GAA8BqB,QAAQ,CAAC5B,WAAD,CAAvC,GAAwD,GAAtE;AACAD,QAAAA,YAAY,CAACgC,WAAD,CAAZ;;AAEA,YAAIrC,eAAe,CAACgC,MAAhB,KAA2B,CAA/B,EAAkC;AAC9B,cAAItB,KAAK,GAAIwB,QAAQ,CAACrB,iBAAD,CAAR,GAA8BqB,QAAQ,CAACG,WAAD,CAAnD;AACA1B,UAAAA,QAAQ,CAACD,KAAD,CAAR;AACH,SAHD,MAGO;AACH,cAAIA,KAAK,GAAIwB,QAAQ,CAACrB,iBAAD,CAAR,GAA8BqB,QAAQ,CAACG,WAAD,CAAvC,GAAyDH,QAAQ,CAAClC,eAAD,CAA7E;AACAW,UAAAA,QAAQ,CAACD,KAAD,CAAR;AACH;AAEJ,OAZD,MAYO;AACH2B,QAAAA,WAAW,GAAG,CAAd;AACAhC,QAAAA,YAAY,CAACgC,WAAD,CAAZ;;AAEA,YAAIrC,eAAe,CAACgC,MAAhB,KAA2B,CAA/B,EAAkC;AAC9B,cAAItB,KAAK,GAAIwB,QAAQ,CAACrB,iBAAD,CAAR,GAA8BqB,QAAQ,CAACG,WAAD,CAAnD;AACA1B,UAAAA,QAAQ,CAACD,KAAD,CAAR;AACH,SAHD,MAGO;AACH,cAAIA,KAAK,GAAIwB,QAAQ,CAACrB,iBAAD,CAAR,GAA8BqB,QAAQ,CAACG,WAAD,CAAvC,GAAyDH,QAAQ,CAAClC,eAAD,CAA7E;AACAW,UAAAA,QAAQ,CAACD,KAAD,CAAR;AACH;AACJ;AAKJ;AAEJ,GAzED;;AA4EA,QAAM4B,GAAG,GAAG/C,MAAM,CAAC,KAAD,CAAN,CAAc;AAAA,QAAC;AAAEgD,MAAAA;AAAF,KAAD;AAAA,WAAgB,EACtC,GAAGA,KAAK,CAACC,UAAN,CAAiBC,MADkB;AAEtCC,MAAAA,eAAe,EAAEH,KAAK,CAACI,OAAN,CAAcC,UAAd,CAAyBC,KAFJ;AAGtCC,MAAAA,OAAO,EAAEP,KAAK,CAACQ,OAAN,CAAc,CAAd;AAH6B,KAAhB;AAAA,GAAd,CAAZ;AAMA,sBACI;AAAA,4BAEI,QAAC,GAAD;AAAK,MAAA,EAAE,EAAE;AAAEC,QAAAA,KAAK,EAAE,KAAT;AAAgBC,QAAAA,EAAE,EAAE;AAApB,OAAT;AAAA,8BAEI,QAAC,WAAD;AAAa,QAAA,SAAS,MAAtB;AAAuB,QAAA,EAAE,EAAE;AAAEC,UAAAA,CAAC,EAAE;AAAL,SAA3B;AAAqC,QAAA,OAAO,EAAC,UAA7C;AAAA,gCACI,QAAC,UAAD;AAAY,UAAA,OAAO,EAAC,2BAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI,QAAC,KAAD;AACI,UAAA,UAAU,EAAGC,KAAD,IAAW;AACnB,gBAAI,CAAC,SAASC,IAAT,CAAcD,KAAK,CAACE,GAApB,CAAL,EAA+B;AAC3BF,cAAAA,KAAK,CAACG,cAAN;AACH;AACJ,WALL;AAMI,UAAA,EAAE,EAAC,2BANP;AAOI,UAAA,KAAK,EAAEpD,gBAPX;AAQI,UAAA,QAAQ,EAAEwB,YAAY,CAAC,kBAAD;AAR1B;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAgBI,QAAC,WAAD;AAAa,QAAA,SAAS,MAAtB;AAAuB,QAAA,EAAE,EAAE;AAAEwB,UAAAA,CAAC,EAAE;AAAL,SAA3B;AAAqC,QAAA,OAAO,EAAC,UAA7C;AAAA,gCACI,QAAC,UAAD;AAAY,UAAA,OAAO,EAAC,2BAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI,QAAC,KAAD;AACI,UAAA,QAAQ,MADZ;AAEI,UAAA,UAAU,EAAGC,KAAD,IAAW;AACnB,gBAAI,CAAC,QAAQC,IAAR,CAAaD,KAAK,CAACE,GAAnB,CAAL,EAA8B;AAC1BF,cAAAA,KAAK,CAACG,cAAN;AACH;AACJ,WANL;AAOI,UAAA,EAAE,EAAC,2BAPP;AAQI,UAAA,KAAK,EAAExD,WARX;AASI,UAAA,QAAQ,EAAE4B,YAAY,CAAC,aAAD,CAT1B;AAUI,UAAA,cAAc,eAAE,QAAC,cAAD;AAAgB,YAAA,QAAQ,EAAC,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAVpB;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAhBJ,eAgCI,QAAC,WAAD;AAAa,QAAA,KAAK,EAAE;AAAE6B,UAAAA,SAAS,EAAE;AAAb,SAApB;AAA2C,QAAA,SAAS,MAApD;AAAqD,QAAA,EAAE,EAAE;AAAEL,UAAAA,CAAC,EAAE;AAAL,SAAzD;AAAmE,QAAA,OAAO,EAAC,UAA3E;AAAA,gCACI,QAAC,SAAD;AAAW,UAAA,OAAO,EAAC,UAAnB;AAAA,oCAA0CvD,KAAK,CAACS,UAAhD;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI,QAAC,UAAD;AACI,UAAA,QAAQ,EAAEsB,YAAY,CAAC,WAAD,CAD1B;AAEI,UAAA,YAAY,EAAC,GAFjB;AAGI,UAAA,EAAE,EAAC,UAHP;AAII,UAAA,GAAG,MAJP;AAKI,6BAAgB,oCALpB;AAMI,UAAA,IAAI,EAAC,yBANT;AAAA,kCAQI,QAAC,gBAAD;AAAkB,YAAA,KAAK,EAAC,GAAxB;AAA4B,YAAA,OAAO,eAAE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA,oBAArC;AAAgD,YAAA,KAAK,EAAC;AAAtD;AAAA;AAAA;AAAA;AAAA,kBARJ,eASI,QAAC,gBAAD;AAAkB,YAAA,KAAK,EAAC,GAAxB;AAA4B,YAAA,OAAO,eAAE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA,oBAArC;AAAgD,YAAA,KAAK,EAAC;AAAtD;AAAA;AAAA;AAAA;AAAA,kBATJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAhCJ,eAgDI,QAAC,WAAD;AAAa,QAAA,KAAK,EAAE;AAAE6B,UAAAA,SAAS,EAAE;AAAb,SAApB;AAA2C,QAAA,SAAS,MAApD;AAAqD,QAAA,EAAE,EAAE;AAAEL,UAAAA,CAAC,EAAE;AAAL,SAAzD;AAAmE,QAAA,OAAO,EAAC,UAA3E;AAAA,gCACI,QAAC,UAAD;AAAY,UAAA,EAAE,EAAC,mCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI,QAAC,MAAD;AACI,UAAA,OAAO,EAAC,mCADZ;AAEI,UAAA,EAAE,EAAC,6BAFP;AAGI,UAAA,KAAK,EAAE1C,YAHX;AAII,UAAA,QAAQ,EAAEkB,YAAY,CAAC,cAAD,CAJ1B;AAKI,UAAA,KAAK,EAAC,cALV;AAAA,kCAOI,QAAC,QAAD;AAAU,YAAA,KAAK,EAAE,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPJ,eAQI,QAAC,QAAD;AAAU,YAAA,KAAK,EAAE,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBARJ,eASI,QAAC,QAAD;AAAU,YAAA,KAAK,EAAE,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBATJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAhDJ,eA8DI,QAAC,GAAD;AAAK,QAAA,KAAK,EAAE;AAAE6B,UAAAA,SAAS,EAAE;AAAb,SAAZ;AAAmC,QAAA,EAAE,EAAE;AAAEL,UAAAA,CAAC,EAAE;AAAL,SAAvC;AAAA,kBAAmD,cAAa/B,YAAY,CAACT,KAAD,CAAQ;AAApF;AAAA;AAAA;AAAA;AAAA,cA9DJ,eA+DI,QAAC,GAAD;AAAK,QAAA,KAAK,EAAE;AAAE6C,UAAAA,SAAS,EAAE;AAAb,SAAZ;AAAmC,QAAA,EAAE,EAAE;AAAEL,UAAAA,CAAC,EAAE;AAAL,SAAvC;AAAA,kBAAmD,mBAAkB/B,YAAY,CAACJ,UAAD,CAAa;AAA9F;AAAA;AAAA;AAAA;AAAA,cA/DJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,eAoEI,QAAC,MAAD;AAAQ,MAAA,QAAQ,EAAEE,cAAlB;AAAkC,MAAA,KAAK,EAAE;AAAE+B,QAAAA,KAAK,EAAE;AAAT,OAAzC;AAA4D,MAAA,OAAO,EAAC,UAApE;AAAA,kCAA6F7B,YAAY,CAACT,KAAD,CAAzG;AAAA;AAAA;AAAA;AAAA;AAAA,YApEJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAyEH;;GA1LQhB,Q;;KAAAA,Q;AA4LT,eAAeA,QAAf","sourcesContent":["import Button from '@mui/material/Button';\r\nimport { useEffect, useState } from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport Input from '@mui/material/Input';\r\nimport InputLabel from '@mui/material/InputLabel';\r\nimport InputAdornment from '@mui/material/InputAdornment';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport Radio from '@mui/material/Radio';\r\nimport RadioGroup from '@mui/material/RadioGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport FormLabel from '@mui/material/FormLabel';\r\nimport { styled } from '@mui/material/styles';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport Select from '@mui/material/Select';\r\n\r\nfunction Checkout(props) {\r\n    console.log(props)\r\n\r\n    // const [values, setValues] = useState({\r\n    //     amount_paid: '',\r\n    //     discount_percent: '',\r\n    //     tax_amount: '',\r\n    //     tax_percent: props.tax_amount,\r\n    //     payment_type: 1,\r\n    //     total: props.total_calculated,\r\n    //     total_without_mod: props.total_calculated,\r\n    // });\r\n\r\n\r\n    const [amount_paid, setAmountPaid] = useState('');\r\n    const [discount_amount, setDiscountAmount] = useState('');\r\n    const [discount_percent, setDiscountPercent] = useState('');\r\n    const [tax_amount, setTaxAmount] = useState('');\r\n    const [tax_percent, setTaxPercent] = useState(props.tax_amount);\r\n    const [payment_type, setPaymentType] = useState(1);\r\n    const [total, setTotal] = useState(props.total_calculated);\r\n    const [total_without_mod, setTotalWithoutMod] = useState(props.total_calculated);\r\n    const [amount_due, setAmountDue] = useState(total);\r\n    const [disable_status, setButtonStatus] = useState('disabled');\r\n\r\n    const formatNumber = (number) => {\r\n        var nf = new Intl.NumberFormat();\r\n        var result = nf.format(number); // \"1,234,567,890\"\r\n        return result;\r\n    }\r\n\r\n    const handleChange = (prop) => (e) => {\r\n\r\n        if (prop === 'discount_percent') {\r\n            let discount = 0;\r\n            if (e.target.value.length !== 0) {\r\n                discount = e.target.value;\r\n            }\r\n\r\n            setDiscountPercent(discount);\r\n            let discount_amount_ = (parseInt(total_without_mod) * parseInt(discount)) / 100;\r\n            setDiscountAmount(discount_amount_);\r\n\r\n            if (tax_amount.length === 0) {\r\n                let total = (parseInt(total_without_mod)) - (parseInt(discount_amount_));\r\n                setTotal(total)\r\n            } else {\r\n\r\n                let total = (parseInt(total_without_mod) - parseInt(tax_amount)) - (parseInt(discount_amount));\r\n                setTotal(total)\r\n            }\r\n\r\n        } else if (prop === 'amount_paid') {\r\n            console.log('amount_paid')\r\n            let amount_paid_ = 0;\r\n            if (e.target.value.length === 0) {\r\n                amount_paid_ = e.target.value\r\n            }\r\n            setAmountPaid(e.target.value)\r\n            console.log(e.target.value.length)\r\n            console.log(amount_paid_)\r\n\r\n            let amt_due = parseInt(total) - parseInt(amount_paid_);\r\n            setAmountDue(amt_due)\r\n            if (parseInt(amt_due) <= 0) {\r\n                setButtonStatus('')\r\n            } else {\r\n                setButtonStatus('disabled')\r\n            }\r\n\r\n\r\n        } else if ('apply_tax') {\r\n\r\n            let tax_amount_ = 0;\r\n            if (parseInt(e.target.value) === 0) {\r\n                tax_amount_ = (parseInt(total_without_mod) * parseInt(tax_percent)) / 100;\r\n                setTaxAmount(tax_amount_)\r\n\r\n                if (discount_amount.length === 0) {\r\n                    let total = (parseInt(total_without_mod) - parseInt(tax_amount_));\r\n                    setTotal(total)\r\n                } else {\r\n                    let total = (parseInt(total_without_mod) - parseInt(tax_amount_)) - (parseInt(discount_amount));\r\n                    setTotal(total)\r\n                }\r\n\r\n            } else {\r\n                tax_amount_ = 0;\r\n                setTaxAmount(tax_amount_)\r\n\r\n                if (discount_amount.length === 0) {\r\n                    let total = (parseInt(total_without_mod) + parseInt(tax_amount_));\r\n                    setTotal(total)\r\n                } else {\r\n                    let total = (parseInt(total_without_mod) + parseInt(tax_amount_)) - (parseInt(discount_amount));\r\n                    setTotal(total)\r\n                }\r\n            }\r\n\r\n\r\n\r\n\r\n        }\r\n\r\n    };\r\n\r\n\r\n    const Div = styled('div')(({ theme }) => ({\r\n        ...theme.typography.button,\r\n        backgroundColor: theme.palette.background.paper,\r\n        padding: theme.spacing(1),\r\n    }));\r\n\r\n    return (\r\n        <div >\r\n\r\n            <Box sx={{ width: '80%', mt: 3 }}>\r\n\r\n                <FormControl fullWidth sx={{ m: 1 }} variant=\"standard\">\r\n                    <InputLabel htmlFor=\"standard-adornment-amount\">Discount (%)</InputLabel>\r\n                    <Input\r\n                        onKeyPress={(event) => {\r\n                            if (!/[0-9.]/.test(event.key)) {\r\n                                event.preventDefault();\r\n                            }\r\n                        }}\r\n                        id=\"standard-adornment-amount\"\r\n                        value={discount_percent}\r\n                        onChange={handleChange('discount_percent')}\r\n\r\n                    />\r\n                </FormControl>\r\n                <FormControl fullWidth sx={{ m: 1 }} variant=\"standard\">\r\n                    <InputLabel htmlFor=\"standard-adornment-amount\">Amount Paid</InputLabel>\r\n                    <Input\r\n                        required\r\n                        onKeyPress={(event) => {\r\n                            if (!/[0-9]/.test(event.key)) {\r\n                                event.preventDefault();\r\n                            }\r\n                        }}\r\n                        id=\"standard-adornment-amount\"\r\n                        value={amount_paid}\r\n                        onChange={handleChange('amount_paid')}\r\n                        startAdornment={<InputAdornment position=\"start\">MWK</InputAdornment>}\r\n                    />\r\n                </FormControl>\r\n\r\n                <FormControl style={{ textAlign: 'left' }} fullWidth sx={{ m: 1 }} variant=\"standard\">\r\n                    <FormLabel htmlFor=\"html_tax\">Apply VAT ({props.tax_amount}%)</FormLabel>\r\n                    <RadioGroup\r\n                        onChange={handleChange('apply_tax')}\r\n                        defaultValue=\"1\"\r\n                        id='html_tax'\r\n                        row\r\n                        aria-labelledby=\"demo-row-radio-buttons-group-label\"\r\n                        name=\"row-radio-buttons-group\"\r\n                    >\r\n                        <FormControlLabel value=\"0\" control={<Radio />} label=\"No\" />\r\n                        <FormControlLabel value=\"1\" control={<Radio />} label=\"Yes\" />\r\n\r\n\r\n                    </RadioGroup>\r\n                </FormControl>\r\n                <FormControl style={{ textAlign: 'left' }} fullWidth sx={{ m: 1 }} variant=\"standard\">\r\n                    <InputLabel id=\"demo-simple-select-standard-label\">Payment Type</InputLabel>\r\n                    <Select\r\n                        labelId=\"demo-simple-select-standard-label\"\r\n                        id=\"demo-simple-select-standard\"\r\n                        value={payment_type}\r\n                        onChange={handleChange('payment_type')}\r\n                        label=\"Payment Type\"\r\n                    >\r\n                        <MenuItem value={1}>Cash Payment</MenuItem>\r\n                        <MenuItem value={2}>Mobile Money Payment</MenuItem>\r\n                        <MenuItem value={3}>Bank Payment</MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n                <Div style={{ textAlign: 'left' }} sx={{ m: 1 }}>{`Total: MWK ${formatNumber(total)}`}</Div>\r\n                <Div style={{ textAlign: 'left' }} sx={{ m: 1 }}>{`Amount Due: MWK ${formatNumber(amount_due)}`}</Div>\r\n\r\n            </Box>\r\n            <Button disabled={disable_status} style={{ width: \"100%\" }} variant=\"outlined\">Chekout (MWK {formatNumber(total)})</Button>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default Checkout;"]},"metadata":{},"sourceType":"module"}