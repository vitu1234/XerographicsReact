{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\xerographics\\\\client\\\\src\\\\components\\\\pos\\\\Pos.js\",\n    _s = $RefreshSig$();\n\nimport { Link } from \"react-router-dom\";\nimport { useEffect, useState } from 'react';\nimport React from \"react\";\nimport api from \"../../api/api\";\nimport Alert from \"../alerts/alert\";\nimport LinearProgressLoad from \"../alerts/LinearProgress\";\nimport { styled } from '@mui/material/styles';\nimport Box from '@mui/material/Box';\nimport Paper from '@mui/material/Paper';\nimport Grid from '@mui/material/Grid';\nimport Tabs from '@mui/material/Tabs';\nimport Tab from '@mui/material/Tab'; // import Grid from \"@material-ui/core/Grid\";\n\nimport ProductsLeft from \"./ProductsLeft\";\nimport ProductsRight from \"./ProductsRight\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Pos() {\n  _s();\n\n  //user state\n  const [products, setProducts] = useState([]);\n  const [customers, setCustomers] = useState([]);\n  const [product_categories, setProductsCategories] = useState([]);\n  let products_url = 'fetchAllProducts'; //alert state\n\n  const [open, setOpen] = useState(false);\n  const [loadingProgress, setLoadingProgress] = useState(false);\n  const [value, setValue] = useState(-1);\n  const [alertType, setAlertType] = useState(\"\");\n  const [alertMessage, setAlertMessage] = useState(\"\");\n\n  const handleChangeTab = (event, newValue) => {\n    if (newValue === -1) {\n      products_url = 'fetchAllProducts';\n    } else {\n      products_url = 'fetchAllPosProducts/' + newValue;\n    }\n\n    setValue(newValue);\n    retrieveProducts();\n  };\n\n  const Item = styled(Paper)(_ref => {\n    let {\n      theme\n    } = _ref;\n    return { ...theme.typography.body2,\n      padding: theme.spacing(1),\n      textAlign: 'center',\n      color: theme.palette.text.secondary\n    };\n  });\n\n  const handleAlertClose = () => {\n    setOpen(false);\n    setAlertMessage('');\n    setAlertType('');\n  }; // retrieve products\n\n\n  const retrieveProducts = () => {\n    setLoadingProgress(true);\n    api.get(products_url, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    }).then(function (response) {\n      // console.log(response.data)\n      setLoadingProgress(false);\n\n      if (response.data.error === false) {\n        // console.log(response.data.users)\n        setProducts(response.data.products);\n      } else {\n        // console.log(response.data.message)\n        // return [];\n        setProducts([]);\n        setAlertType('error');\n        setAlertMessage(response.data.message);\n        setOpen(true);\n      }\n    }).catch(function (error) {\n      setLoadingProgress(false);\n      setAlertType('error');\n      setAlertMessage(\"Error 500: Internal server error\");\n      setOpen(true);\n    });\n  }; // retrieve products categories\n\n\n  const retrieveProductsCategories = () => {\n    setLoadingProgress(true);\n    api.get('/fetchAllCategories', {\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    }).then(function (response) {\n      if (response.data.error === false) {\n        // console.log(response.data.users)\n        setProductsCategories(response.data.categories);\n      } else {\n        // console.log(response.data.message)\n        // return [];\n        setAlertType('error');\n        setAlertMessage(response.data.message);\n        setOpen(true);\n      }\n    }).catch(function (error) {\n      setLoadingProgress(false);\n      setAlertType('error');\n      setAlertMessage(\"Error 500: Internal server error on categories\");\n      setOpen(true);\n    });\n  }; // retrieve customers\n\n\n  const retrieveCustomers = () => {\n    api.get('/fetchAllCustomers', {\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    }).then(function (response) {\n      if (response.data.error === false) {\n        // console.log(response.data)\n        setCustomers(response.data.customers);\n      } else {\n        // console.log(response.data.message)\n        // return [];\n        setCustomers([]);\n      }\n    }).catch(function (error) {});\n  };\n\n  const loading = () => {\n    if (loadingProgress) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(LinearProgressLoad, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }, this);\n    }\n  };\n\n  const renderProductCategoryList = product_categories.map(product_category => {\n    return /*#__PURE__*/_jsxDEV(Tab, {\n      value: product_category.id,\n      label: product_category.category_name\n    }, product_category.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }, this);\n  });\n  useEffect(() => {\n    retrieveProductsCategories();\n    retrieveCustomers();\n    retrieveProducts();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header bg-primary pb-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-body\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row align-items-center py-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-lg-6 col-7\",\n              children: /*#__PURE__*/_jsxDEV(\"nav\", {\n                \"aria-label\": \"breadcrumb\",\n                className: \"d-none d-md-inline-block ml-md-4\",\n                children: /*#__PURE__*/_jsxDEV(\"ol\", {\n                  className: \"breadcrumb breadcrumb-links breadcrumb-dark\",\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"breadcrumb-item\",\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: \"/\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-home\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 212,\n                        columnNumber: 88\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 212,\n                      columnNumber: 73\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"breadcrumb-item active\",\n                    \"aria-current\": \"page\",\n                    children: \"POS\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-lg-6 col-5 text-right\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid mt--6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: [loading(), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"container-fluid mt-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                flexGrow: 6\n              },\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                spacing: 2,\n                columns: 16,\n                children: [/*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 16,\n                  sm: 16,\n                  md: 10,\n                  lg: 10,\n                  children: /*#__PURE__*/_jsxDEV(Item, {\n                    children: [/*#__PURE__*/_jsxDEV(Box, {\n                      sx: {\n                        width: '100%'\n                      },\n                      children: /*#__PURE__*/_jsxDEV(Tabs, {\n                        value: value,\n                        onChange: handleChangeTab,\n                        textColor: \"primary\",\n                        indicatorColor: \"primary\",\n                        \"aria-label\": \"primary tabs example\",\n                        variant: \"scrollable\",\n                        scrollButtons: true,\n                        allowScrollButtonsMobile: true,\n                        \"aria-label\": \"scrollable force tabs example\",\n                        children: [/*#__PURE__*/_jsxDEV(Tab, {\n                          value: -1,\n                          label: \"All\"\n                        }, \"2S\", false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 256,\n                          columnNumber: 53\n                        }, this), renderProductCategoryList]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 244,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 243,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(ProductsLeft, {\n                      products: products,\n                      addToCartProductId: handleClickAddCart\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 264,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 16,\n                  sm: 16,\n                  md: 6,\n                  lg: 6,\n                  children: /*#__PURE__*/_jsxDEV(ProductsRight, {\n                    products: products,\n                    customers: customers\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 270,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Alert, {\n      openAlert: open,\n      alertMessage: alertMessage,\n      alertType: alertType,\n      handleAlertClose: handleAlertClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 204,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Pos, \"gKAa4uMbDHA8dfbsqEnelgyQZPM=\");\n\n_c = Pos;\nexport default Pos;\n\nvar _c;\n\n$RefreshReg$(_c, \"Pos\");","map":{"version":3,"sources":["C:/xampp/htdocs/xerographics/client/src/components/pos/Pos.js"],"names":["Link","useEffect","useState","React","api","Alert","LinearProgressLoad","styled","Box","Paper","Grid","Tabs","Tab","ProductsLeft","ProductsRight","Pos","products","setProducts","customers","setCustomers","product_categories","setProductsCategories","products_url","open","setOpen","loadingProgress","setLoadingProgress","value","setValue","alertType","setAlertType","alertMessage","setAlertMessage","handleChangeTab","event","newValue","retrieveProducts","Item","theme","typography","body2","padding","spacing","textAlign","color","palette","text","secondary","handleAlertClose","get","headers","then","response","data","error","message","catch","retrieveProductsCategories","categories","retrieveCustomers","loading","renderProductCategoryList","map","product_category","id","category_name","flexGrow","width","handleClickAddCart"],"mappings":"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","sourcesContent":["import { Link } from \"react-router-dom\";\r\nimport { useEffect, useState } from 'react';\r\nimport React from \"react\";\r\nimport api from \"../../api/api\";\r\nimport Alert from \"../alerts/alert\";\r\nimport LinearProgressLoad from \"../alerts/LinearProgress\";\r\n\r\nimport { styled } from '@mui/material/styles';\r\nimport Box from '@mui/material/Box';\r\nimport Paper from '@mui/material/Paper';\r\nimport Grid from '@mui/material/Grid';\r\n\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\n// import Grid from \"@material-ui/core/Grid\";\r\n\r\n\r\nimport ProductsLeft from \"./ProductsLeft\";\r\n\r\nimport ProductsRight from \"./ProductsRight\";\r\n\r\n\r\nfunction Pos() {\r\n    //user state\r\n    const [products, setProducts] = useState([])\r\n    const [customers, setCustomers] = useState([])\r\n    const [product_categories, setProductsCategories] = useState([])\r\n    let products_url = 'fetchAllProducts';\r\n\r\n\r\n    //alert state\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const [loadingProgress, setLoadingProgress] = useState(false);\r\n    const [value, setValue] = useState(-1);\r\n    const [alertType, setAlertType] = useState(\"\");\r\n    const [alertMessage, setAlertMessage] = useState(\"\");\r\n\r\n\r\n\r\n    const handleChangeTab = (event, newValue) => {\r\n        if (newValue === -1) {\r\n            products_url = 'fetchAllProducts'\r\n        } else {\r\n            products_url = 'fetchAllPosProducts/' + newValue\r\n        }\r\n\r\n        setValue(newValue)\r\n        retrieveProducts()\r\n    };\r\n\r\n\r\n\r\n\r\n    const Item = styled(Paper)(({ theme }) => ({\r\n        ...theme.typography.body2,\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n    }));\r\n\r\n\r\n\r\n    const handleAlertClose = () => {\r\n        setOpen(false);\r\n        setAlertMessage('')\r\n        setAlertType('')\r\n    };\r\n\r\n    // retrieve products\r\n    const retrieveProducts = () => {\r\n        setLoadingProgress(true)\r\n\r\n        api.get(products_url\r\n            , {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Accept': 'application/json'\r\n                }\r\n            }\r\n        )\r\n            .then(function (response) {\r\n                // console.log(response.data)\r\n                setLoadingProgress(false)\r\n\r\n                if (response.data.error === false) {\r\n\r\n                    // console.log(response.data.users)\r\n                    setProducts(response.data.products)\r\n\r\n                } else {\r\n                    // console.log(response.data.message)\r\n                    // return [];\r\n                    setProducts([])\r\n                    setAlertType('error')\r\n                    setAlertMessage(response.data.message)\r\n                    setOpen(true)\r\n                }\r\n\r\n            })\r\n            .catch(function (error) {\r\n                setLoadingProgress(false)\r\n\r\n                setAlertType('error')\r\n                setAlertMessage(\"Error 500: Internal server error\")\r\n                setOpen(true)\r\n            });\r\n    }\r\n\r\n    // retrieve products categories\r\n    const retrieveProductsCategories = () => {\r\n        setLoadingProgress(true)\r\n\r\n        api.get('/fetchAllCategories'\r\n            , {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Accept': 'application/json'\r\n                }\r\n            }\r\n        )\r\n            .then(function (response) {\r\n                if (response.data.error === false) {\r\n\r\n                    // console.log(response.data.users)\r\n                    setProductsCategories(response.data.categories)\r\n\r\n                } else {\r\n                    // console.log(response.data.message)\r\n                    // return [];\r\n                    setAlertType('error')\r\n                    setAlertMessage(response.data.message)\r\n                    setOpen(true)\r\n                }\r\n\r\n            })\r\n            .catch(function (error) {\r\n                setLoadingProgress(false)\r\n\r\n                setAlertType('error')\r\n                setAlertMessage(\"Error 500: Internal server error on categories\")\r\n                setOpen(true)\r\n            });\r\n    }\r\n\r\n    // retrieve customers\r\n    const retrieveCustomers = () => {\r\n\r\n        api.get('/fetchAllCustomers'\r\n            , {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Accept': 'application/json'\r\n                }\r\n            }\r\n        )\r\n            .then(function (response) {\r\n\r\n                if (response.data.error === false) {\r\n\r\n                    // console.log(response.data)\r\n                    setCustomers(response.data.customers)\r\n\r\n                } else {\r\n                    // console.log(response.data.message)\r\n                    // return [];\r\n                    setCustomers([])\r\n\r\n                }\r\n\r\n            })\r\n            .catch(function (error) {\r\n            });\r\n    }\r\n\r\n\r\n    const loading = () => {\r\n        if (loadingProgress) {\r\n            return (\r\n                <div className=\"mb-3\">\r\n                    <LinearProgressLoad />\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    const renderProductCategoryList = product_categories.map((product_category) => {\r\n        return (\r\n            <Tab key={product_category.id} value={product_category.id} label={product_category.category_name} />\r\n        );\r\n    })\r\n\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        retrieveProductsCategories();\r\n        retrieveCustomers()\r\n        retrieveProducts();\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"\">\r\n            <div className=\"header bg-primary pb-6\">\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"header-body\">\r\n                        <div className=\"row align-items-center py-4\">\r\n                            <div className=\"col-lg-6 col-7\">\r\n                                <nav aria-label=\"breadcrumb\" className=\"d-none d-md-inline-block ml-md-4\">\r\n                                    <ol className=\"breadcrumb breadcrumb-links breadcrumb-dark\">\r\n                                        <li className=\"breadcrumb-item\"><Link to={\"/\"}><i className=\"fas fa-home\"></i></Link></li>\r\n                                        <li className=\"breadcrumb-item active\" aria-current=\"page\">POS</li>\r\n                                    </ol>\r\n                                </nav>\r\n                            </div>\r\n                            <div className=\"col-lg-6 col-5 text-right\">\r\n\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"container-fluid mt--6\">\r\n                <div className=\"row\">\r\n                    <div className=\"col\">\r\n                        <div className=\"card\">\r\n                            {loading()}\r\n\r\n                            <div className=\"container-fluid mt-5\">\r\n\r\n                            </div>\r\n\r\n                            <Box sx={{ flexGrow: 6 }}>\r\n                                <Grid container spacing={2} columns={16}>\r\n\r\n\r\n                                    <Grid item xs={16} sm={16} md={10} lg={10}>\r\n                                        <Item >\r\n                                            <Box sx={{ width: '100%' }}>\r\n                                                <Tabs\r\n                                                    value={value}\r\n                                                    onChange={handleChangeTab}\r\n                                                    textColor=\"primary\"\r\n                                                    indicatorColor=\"primary\"\r\n                                                    aria-label=\"primary tabs example\"\r\n\r\n                                                    variant=\"scrollable\"\r\n                                                    scrollButtons\r\n                                                    allowScrollButtonsMobile\r\n                                                    aria-label=\"scrollable force tabs example\"\r\n                                                >\r\n                                                    <Tab key=\"2S\" value={-1} label=\"All\" />\r\n                                                    {renderProductCategoryList}\r\n                                                </Tabs>\r\n                                            </Box>\r\n\r\n                                            {/* <Search getSearchValue={handleSearch} /> */}\r\n\r\n                                            {/* {renderProductList} */}\r\n                                            <ProductsLeft products={products} addToCartProductId={handleClickAddCart} />\r\n\r\n                                        </Item>\r\n                                    </Grid>\r\n\r\n                                    <Grid item xs={16} sm={16} md={6} lg={6}>\r\n                                        <ProductsRight products={products} customers={customers} />\r\n                                    </Grid>\r\n\r\n                                </Grid>\r\n\r\n\r\n                            </Box>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <Alert openAlert={open} alertMessage={alertMessage} alertType={alertType} handleAlertClose={handleAlertClose} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Pos;\r\n"]},"metadata":{},"sourceType":"module"}